<html>
<head>
<title>Tutorial for installing mongoDB 1.4.4 with PHP Driver on Ubuntu 9.04</title>
</head>

<body>

<h2>Build and Install mongoDB:</h2>

<p>Note: Steps 1-3 installs dependencies.</p>
<p>Note: Step 6 builds the source code so it can take some time to finish.

<ol>

<li>apt-get -y install tcsh git-core scons g++</li>
<li>apt-get -y install libpcre++-dev libboost-dev libreadline-dev xulrunner-1.9.1-dev</li>
<li>apt-get -y install libboost-program-options-dev libboost-thread-dev libboost-filesystem-dev libboost-date-time-dev</li>
<li>git clone git://github.com/mongodb/mongo.git</li>
<li>git checkout r1.4.4</li>
<li>scons all</li>
<li>scons --prefix=/opt/mongo install</li>

</ol>

<p>Before proceeding, make sure you are in the directory where the mongoDB executable is, and the Mongo executable is called mongod. In our case this would be:
/opt/mongo/bin/mongod</p>

<p>To start mongoDB in default mode, where data will be stored in the /data/db directory, and listening on port 27017, just type: ./mongod</p>
<p>mongoDB will be running in the foreground in a terminal window. You can stop mongoDB by using 'CTRL-C'.
<p>Assuming you can start and stop mongoDB, proceed to the next section.</p>

<h2>Create /etc/init.d/mongodb script to start/stop mongoDB as a service:</h2>

<ol>

<li>The mongoDB script is included with this tutorial and part of this repository. Please add the script to the /etc/init.d directory on your Ubuntu server.</li>
<li>You can type: service mongodb stop (to stop mongoDB, it essentially kills the process)</li>
<li>You can type: service mongodb start (to start mongoDB)</li>
<li>You can type: service mongodb restart (to restart mongoDB, it essentially calls stop and then start)</li> 

</ol>

<h2>Build and Install PHP Driver:</h2>

<p>Note: Step 1 installs dependencies.</p>

<ol>

<li>sudo apt-get install php-pear</li>
<li>sudo pecl install mongo</li>
<li>Add the following line to your php.ini file: extension=mongo.so</li>
<li>If pecl runs out of memory, make sure memory_limit in php.ini is set to at least 32M.</li>
<li>Restart Apache or whatever webserver you are using.</li>
<li>Start or restart mongoDB.</li>

</ol>

<p>Congrats you're done; that wasn't too hard was it?<p>
<p>Let's write some code: <a href="http://www.php.net/manual/en/mongo.tutorial.php">PHP MongoDB Tutorial</a>. 

</body>

</html>
